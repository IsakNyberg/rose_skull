<!DOCTYPE html>
<html lang="">
  <head>

<script type="text/javascript">

const websocket = new WebSocket('ws://85.229.19.61:63834/ws');
const event = {type: "play", column: 3};
websocket.send(JSON.stringify(event));
socket.onopen = function() {console.log("socket opened :)");};
socket.onclose = function(e) {console.log("websocket closed! code:" +e.code+ " reason:" + e.reason);};
socket.onerror = function(e) {console.log('websocket error!');};

socket.onmessage = function(e) {
  console.log("recieved:\n" + e.data);
  const arr = e.data.split("\n");
  const qID = arr[0];
  const opt_count = arr.length - 2;
  
  document.getElementById("title").innerHTML = arr[1];

  const d = document.getElementById("buttons");
  for (let aID=0; aID<opt_count; aID++) {
    var butt = document.createElement("button");
    butt.innerHTML = arr[aID+2];
    butt.style.width = "200px";
    butt.style.height = "200px";
    butt.style.margin = "2px";
    butt.onclick = function() {submitAns(qID, aID)};

    d.appendChild(butt);
  }
};

function clear() {
  document.getElementById("buttons").innerHTML = "";  // delete buttons
  document.getElementById("title").innerHTML = "Waiting Patiently...";
}

function submitAns(qID, aID) {
  clear();
  socket.send(String(qID) + String(aID));
  console.log("guessed " + aID + " for question " + qID);
}

</script>


    <style>
      /* text centered over image */
      .everything{
        width: 100%;
        height: 100%;
      }
      .left{
        position: relative;
        float: right;
        right: 55%;
      }
      .right{
        margin-top: 50px;
        position: relative;
        float: left;
        left: 55%;
      }
      .hand{
        width: 275px;
      }
      .hand_text{
        font-family: "Lucida Console", "Courier New", monospace;
        font-size: 20px; 
        position: relative;
        color: white;
      }
      .board{
      }
      .board_text{
        font-family: "Lucida Console", "Courier New", monospace;
        font-size: 30px; 
        text-align: left;
        color: white;
      }
      .player_list{
      }
      .player {
      }
      .card_row {
        width: 275px;
        float: left;
        display: block; 
        border-spacing: 5px;
      }
      .card_stack {
        width: 60px;
        height: 75px;
        float: left;
        display: block; 
        border-spacing: 5px;
      }
      .card_div{
        width:50px;
        height:75px;
        display: table-cell;
        margin-top: 0px;
        margin-bottom: 5px;
        margin-right: 5px;
        margin-left: 0px;
        z-index: 2;
      }
      .card_text {
        font-family: "Lucida Console", "Courier New", monospace;
        font-size: 50px; 
        position: relative;
        color: white;
        top: -50%;
        left: 24%;
      }
      .player_text {
        font-family: "Lucida Console", "Courier New", monospace;
        font-size: 50px; 
        position: relative;
        color: white;
        top: -50%;
        left: 30%;
      }
      .rose {
        width:50px;
        height:75px;
      }
      .skull {
        width:50px;
        height:75px;
      }
      .back {
        width:50px;
        height:75px;
        margin-left: 0px;
      }
    </style>
    <title>Rose and Skull</title>
  </head>
  <body height="100%" style="background-color:#a0a0a0;">
    <div class="everything">
      <div class="left">
        <div class="player_list">
          <div class="player">
            <div class="player_text">Isak</div>
            <div class="card_row">
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
            </div> 
            <div class="card_stack">
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
                <div class="card_text">1</div>
              </div>
            </div>
          </div> 
          <div class="player">
            <div class="player_text">Greg</div>
            <div class="card_row">
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
            </div> 
            <div class="card_stack">
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
                <div class="card_text">2</div>
              </div>
            </div>
          </div> 
          <div class="player">
            <div class="player_text">Jack</div>
            <div class="card_row">
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
            </div> 
            <div class="card_stack">
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
                <div class="card_text">2</div>
              </div>
            </div>
          </div> 
          <div class="player">
            <div class="player_text">Grog</div>
            <div class="card_row">
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
              </div>
            </div> 
            <div class="card_stack">
              <div class="card_div">
                <img src="back.jpeg" alt="Back" class="back">
                <div class="card_text">2</div>
              </div>
            </div>
          </div> 
        </div>
      </div>
      <div class="right"> 
        <div class="board">
          <div class="board_text">
            Game is ongoing
          </div>
          <div class="board_text">
            Cannot place that card
          </div>
          <div class="board_text">
            Current bet: 0
          </div>
          <div class="card_row">
            <div class="card_div">
                <img src="rose.jpeg" alt="rose" class="rose">
              </div>
              <div class="card_div">
                <img src="rose.jpeg" alt="rose" class="rose">
              </div>
              <div class="card_div">
                <img src="skull.jpeg" alt="skull" class="skull">
              </div>
          </div>
        </div>
        <div class="hand">
          <div class="player_text">
            Isak
          </div>
          <div class="hand_text">
            Placed:
          </div>
          <div class="card_row">
            <div class="card_div">
                <img src="rose.jpeg" alt="rose" class="rose">
              </div>
              <div class="card_div">
                <img src="rose.jpeg" alt="rose" class="rose">
              </div>
          </div>
          <div class="hand_text">
            Hand:
          </div>
          <div class="card_row">
            <div class="card_div">
              <img src="rose.jpeg" alt="rose" class="rose">
            </div>
            <div class="card_div">
              <img src="skull.jpeg" alt="skull" class="skull">
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
